# Linux上配置IPv6

在Linux上配置IPv6，您可以按照以下步骤进行操作：

1. 检查IPv6支持：首先，您需要确保您的Linux系统已启用IPv6支持。您可以运行以下命令来检查是否加载了IPv6模块：

   ```
   lsmod | grep ipv6
   ```

   如果有输出显示ipv6模块已加载，则表示系统已启用IPv6支持。如果没有输出，则需要启用IPv6模块。您可以编辑 `/etc/modprobe.d/ipv6.conf` 文件并添加以下内容：

   ```
   options ipv6 disable=0
   ```

   保存文件并重新启动系统，以使更改生效。
2. 配置网络接口：接下来，您需要为网络接口配置IPv6地址。您可以使用 `ifconfig`或 `ip`命令来进行配置。以下是使用 `ip`命令的示例：

   ```
   ip -6 addr add <IPv6地址/前缀长度> dev <接口名称>
   ```

   例如，要将IPv6地址 `2001:db8:1234::1/64` 分配给eth0接口，您可以运行以下命令：

   ```
   ip -6 addr add 2001:db8:1234::1/64 dev eth0
   ```
3. 配置路由：如果您的Linux系统是通过IPv6路由器连接到Internet的，您可以跳过此步骤。否则，您需要配置默认路由或指定路由表，以便IPv6流量可以正确路由。您可以使用 `ip`命令来配置路由。以下是一些示例命令：

   - 配置默认路由：

     ```
     ip -6 route add default via <默认网关地址>
     ```

     例如，要将默认路由指向网关 `2001:db8:1234::1`，您可以运行以下命令：

     ```
     ip -6 route add default via 2001:db8:1234::1
     ```
   - 配置指定路由表：

     ```
     ip -6 route add <目标网络地址/前缀长度> via <下一跳地址> dev <接口名称>
     ```

     例如，要将目标网络 `2001:db8:5678::/64` 的流量路由到下一跳地址 `2001:db8:1234::2` 并通过eth0接口，您可以运行以下命令：

     ```
     ip -6 route add 2001:db8:5678::/64 via 2001:db8:1234::2 dev eth0
     ```
4. 测试连接：完成配置后，您可以使用 `ping6`命令测试IPv6连接。例如，要测试与IPv6地址 `2001:db8:1234::2` 的连通性，您可以运行以下命令：

   ```
   ping6 2001:db8:1234::2
   ```

这些步骤应该能够帮助您在Linux上配置IPv6。请注意，具体的配置步骤可能因Linux发行版和版本而有所不同。因此，您可能需要参考您所使用的Linux发行版的文档或社区资源以获取更详细的配置指南。
